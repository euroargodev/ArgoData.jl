<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reference · ArgoData.jl</title><meta name="title" content="Reference · ArgoData.jl"/><meta property="og:title" content="Reference · ArgoData.jl"/><meta property="twitter:title" content="Reference · ArgoData.jl"/><meta name="description" content="Documentation for ArgoData.jl."/><meta property="og:description" content="Documentation for ArgoData.jl."/><meta property="twitter:description" content="Documentation for ArgoData.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">ArgoData.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../examples/">Examples</a></li><li class="is-active"><a class="tocitem" href>Reference</a><ul class="internal"><li><a class="tocitem" href="#Data-Structures"><span>Data Structures</span></a></li><li><a class="tocitem" href="#Module:-GDAC"><span>Module: GDAC</span></a></li><li><a class="tocitem" href="#Module:-MITprof"><span>Module: MITprof</span></a></li><li><a class="tocitem" href="#Module:-GriddedFields"><span>Module: GriddedFields</span></a></li><li><a class="tocitem" href="#Module:-MITprofAnalysis"><span>Module: MITprofAnalysis</span></a></li><li><a class="tocitem" href="#Module:-MITprofStat"><span>Module: MITprofStat</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reference</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reference</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/euroargodev/ArgoData.jl/blob/master/docs/src/Functionalities.md#L" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><p>Content of this section:</p><ul><li>Data Structures</li><li>Modules (1): GDAC, MITprof, GriddedFields</li><li>Modules (2): MITprofAnalysis, MITprofStat</li></ul><h2 id="Data-Structures"><a class="docs-heading-anchor" href="#Data-Structures">Data Structures</a><a id="Data-Structures-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Structures" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.ProfileNative" href="#ArgoData.ProfileNative"><code>ArgoData.ProfileNative</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>ProfileNative</p><p>Container for a multivariate profile read from a GDAC Argo file.</p><ul><li>1D arrays: lon,lat,date,ymd,hms,pnum<em>txt,direc,DATA</em>MODE,isBAD</li><li>2D arrays: T,S,pressure,depth,T_ERR,SERR</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/data_structures.jl#LL3-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.ProfileStandard" href="#ArgoData.ProfileStandard"><code>ArgoData.ProfileStandard</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>ProfileNative</p><p>Container for a multivariate profile in MITprof format.</p><ul><li>2D arrays: T,S,Testim,Sestim,Tweight,Sweight,Ttest,Stest,T_ERR,SERR</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/data_structures.jl#LL29-L35">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofStandard" href="#ArgoData.MITprofStandard"><code>ArgoData.MITprofStandard</code></a> — <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><p>MITprofStandard</p><p>Container for a MITprof format file data.</p><ul><li>filename : file name</li><li>1D arrays: lon,lat,date,depth,ID</li><li>2D arrays: T,S,Te,Se,Tw,Sw</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/data_structures.jl#LL63-L71">source</a></section></article><h2 id="Module:-GDAC"><a class="docs-heading-anchor" href="#Module:-GDAC">Module: GDAC</a><a id="Module:-GDAC-1"></a><a class="docs-heading-anchor-permalink" href="#Module:-GDAC" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.GDAC.download_file" href="#ArgoData.GDAC.download_file"><code>ArgoData.GDAC.download_file</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">download_file(file::DataFrameRow,suff=&quot;prof&quot;,ftp=missing)</code></pre><p>Get <code>folder</code> and <code>wmo</code> from data frame row and them call <code>download_file</code>.</p><pre><code class="nohighlight hljs">using ArgoData
files_list=GDAC.files_list()
file=GDAC.download_file(files_list[10000,:])</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/GDAC.jl#LL68-L78">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.GDAC.download_file" href="#ArgoData.GDAC.download_file"><code>ArgoData.GDAC.download_file</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">download_file(folder::String,wmo::Int,suff=&quot;prof&quot;,ftp=&quot;https://data-argo.ifremer.fr/dac/&quot;)</code></pre><p>Download Argo file from the GDAC server (<code>&lt;https://data-argo.ifremer.fr/dac/&gt;</code> by default) to a temporary folder (<code>joinpath(tempdir(),&quot;Argo_DAC_files&quot;)</code>)</p><p>The file name is given by <code>folder</code> and <code>wmo</code>. For example, <code>13857_prof.nc</code> for <code>wmo=13857</code> is from the <code>aoml</code> folder. </p><p>The default for <code>suff</code> is <code>&quot;prof&quot;</code> which means we&#39;ll download the file that contains the profile data.  Other possible choices are <code>&quot;meta&quot;</code>, <code>&quot;Rtraj&quot;</code>, <code>&quot;tech&quot;</code>. </p><p>If the <code>ftp</code> argument is omitted or <code>isa(ftp,String)</code> then <code>Downloads.download</code> is used.  If, alternatively, <code>isa(ftp,FTP)</code> then <code>FTPClient.download</code> is used.</p><p>Example :</p><pre><code class="nohighlight hljs">using ArgoData
GDAC.download_file(&quot;aoml&quot;,13857)

#or:
ftp=&quot;ftp://usgodae.org/pub/outgoing/argo/dac/&quot;
#ftp=&quot;ftp://ftp.ifremer.fr/ifremer/argo/dac/&quot;
GDAC.download_file(&quot;aoml&quot;,13857,&quot;meta&quot;,ftp)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/GDAC.jl#LL81-L107">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.GDAC.files_list-Tuple{String}" href="#ArgoData.GDAC.files_list-Tuple{String}"><code>ArgoData.GDAC.files_list</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">files_list(fil::String)</code></pre><p>Get list of Argo float files from csv file with columns two columns – <code>folder</code> and <code>wmo</code>.</p><pre><code class="nohighlight hljs">using ArgoData
fil=&quot;https://raw.githubusercontent.com/euroargodev/ArgoData.jl/gh-pages/dev/Argo_float_files.csv&quot;
files_list=GDAC.files_list(fil)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/GDAC.jl#LL49-L59">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.GDAC.files_list-Tuple{}" href="#ArgoData.GDAC.files_list-Tuple{}"><code>ArgoData.GDAC.files_list</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">files_list()</code></pre><p>Get list of Argo float files from Ifremer GDAC server      <a href="ftp://ftp.ifremer.fr/ifremer/argo/dac/">ftp://ftp.ifremer.fr/ifremer/argo/dac/</a></p><pre><code class="nohighlight hljs">using ArgoData
files_list=GDAC.files_list()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/GDAC.jl#LL23-L33">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.GDAC.grey_list-Tuple{String}" href="#ArgoData.GDAC.grey_list-Tuple{String}"><code>ArgoData.GDAC.grey_list</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">grey_list(fil::String)</code></pre><p>Read &quot;ar_greylist.txt&quot; file into a DataFrame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/GDAC.jl#LL6-L10">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.GDAC.grey_list-Tuple{}" href="#ArgoData.GDAC.grey_list-Tuple{}"><code>ArgoData.GDAC.grey_list</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">grey_list()</code></pre><p>Download &quot;ar_greylist.txt&quot; from GDAC and read file into a DataFrame.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/GDAC.jl#LL13-L17">source</a></section></article><h2 id="Module:-MITprof"><a class="docs-heading-anchor" href="#Module:-MITprof">Module: MITprof</a><a id="Module:-MITprof-1"></a><a class="docs-heading-anchor-permalink" href="#Module:-MITprof" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprof.format" href="#ArgoData.MITprof.format"><code>ArgoData.MITprof.format</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format(meta,gridded_fields,input_file,output_file=&quot;&quot;)</code></pre><p>From Argo file name as input : read input file content, process into the MITprof format, and write to MITprof file.</p><pre><code class="nohighlight hljs">MITprof.format(meta,gridded_fields,input_file)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprof.jl#LL249-L257">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprof.format-Tuple{Any, Any}" href="#ArgoData.MITprof.format-Tuple{Any, Any}"><code>ArgoData.MITprof.format</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format(gridded_fields,input_file)</code></pre><p>From Argo file name as input : read input file content, process into the MITprof format, and write to MITprof file.</p><pre><code class="nohighlight hljs">MITprof.format(gridded_fields,input_file)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprof.jl#LL234-L242">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprof.format_loop-Tuple{Any, Any, Any}" href="#ArgoData.MITprof.format_loop-Tuple{Any, Any, Any}"><code>ArgoData.MITprof.format_loop</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">format_loop(II)</code></pre><p>Loop over files and call <code>format</code>.</p><pre><code class="nohighlight hljs">gridded_fields=GriddedFields.load()
fil=joinpath(tempdir(),&quot;Argo_MITprof_files&quot;,&quot;input&quot;,&quot;Argo_float_files.csv&quot;)
files_list=GDAC.files_list(fil)
MITprof.format_loop(gridded_fields,files_list,1:10)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprof.jl#LL347-L358">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprof.write-Tuple{Dict, Array, Array}" href="#ArgoData.MITprof.write-Tuple{Dict, Array, Array}"><code>ArgoData.MITprof.write</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MITprof.write(meta,profiles,profiles_std;path=&quot;&quot;)</code></pre><p>Create an MITprof file from meta data + profiles during <code>MITprof.format</code>.</p><pre><code class="nohighlight hljs">MITprof.write(meta,profiles,profiles_std)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprof.jl#LL32-L40">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprof.write-Tuple{String, MITprofStandard}" href="#ArgoData.MITprof.write-Tuple{String, MITprofStandard}"><code>ArgoData.MITprof.write</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write(fil::String,mp::MITprofStandard)</code></pre><p>Create an MITprof file from an MITprofStandard input.  </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprof.jl#LL142-L146">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprof.write-Tuple{String, Vector{MITprofStandard}}" href="#ArgoData.MITprof.write-Tuple{String, Vector{MITprofStandard}}"><code>ArgoData.MITprof.write</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">write(fil::String,mps::Vector{MITprofStandard})</code></pre><p>Create an MITprof file from a vector of MITprofStandard inputs.  </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprof.jl#LL149-L153">source</a></section></article><h2 id="Module:-GriddedFields"><a class="docs-heading-anchor" href="#Module:-GriddedFields">Module: GriddedFields</a><a id="Module:-GriddedFields-1"></a><a class="docs-heading-anchor-permalink" href="#Module:-GriddedFields" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.GriddedFields.interp!-Tuple{MeshArrays.gcmarray, Any, MITprofStandard, NamedTuple, Any}" href="#ArgoData.GriddedFields.interp!-Tuple{MeshArrays.gcmarray, Any, MITprofStandard, NamedTuple, Any}"><code>ArgoData.GriddedFields.interp!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">interp!(T_in::MeshArray,Γ,mp::MITprofStandard,📚,T_out)
interp!(T_in::MeshArray,Γ,mp::MITprofStandard,T_out)</code></pre><p>Interpolate <code>T_in</code>, defined on grid <code>Γ</code>, to locations speficied in <code>mp</code> and store the result in array <code>T_out</code>.</p><p>Providing interpolation coefficients <code>📚</code> computed beforehand speeds up repeated calls.</p><p>Example:</p><pre><code class="nohighlight hljs">fil=glob(&quot;*_MITprof.nc&quot;,&quot;MITprof&quot;)[1000]
mp=MITprofStandard(fil)

(f,i,j,w)=InterpolationFactors(G.Γ,mp.lon[:],mp.lat[:]);
📚=(f=f,i=i,j=j,w=w)

T=[similar(mp.T) for i in 1:12]
[interp!(G.T[i],G.Γ,mp,📚,T[i]) for i in 1:12]</code></pre><p>In the above example, <code>[interp!(G.T[i],G.Γ,mp,T[i]) for i in 1:12]</code> would be <strong>much slower</strong>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/tools.jl#LL746-L768">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.GriddedFields.interp-Tuple{Any, Any, MITprofStandard}" href="#ArgoData.GriddedFields.interp-Tuple{Any, Any, MITprofStandard}"><code>ArgoData.GriddedFields.interp</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">interp(T_in::MeshArray,Γ,mp::MITprofStandard)</code></pre><p>Interpolate <code>T_in</code>, defined on grid <code>Γ</code>, to locations speficied in <code>mp</code>. </p><p>For a more efficient, in place, option see <code>interp!</code>.</p><pre><code class="nohighlight hljs">fil=&quot;MITprof/1901238_MITprof.nc&quot;
mp=MITprofStandard(fil)

interp(G.T[1],G.Γ,mp)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/tools.jl#LL726-L739">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.GriddedFields.load-Tuple{}" href="#ArgoData.GriddedFields.load-Tuple{}"><code>ArgoData.GriddedFields.load</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">load()</code></pre><p>Load gridded fields from files (and download them if needed),  and return a dictionary (:Γ, :msk, :T, :S, :σT, :σS, :array, :tile).</p><p>note : the embeded <code>array()</code> function returns a 2D array initialized to <code>missing</code>, and <code>array(1)</code>, <code>array(3,2)</code>, etc add dimensions to the resulting array.</p><pre><code class="nohighlight hljs">using Climatology, ArgoData
gridded_fields=GriddedFields.load()</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/tools.jl#LL655-L668">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.GriddedFields.monthly_climatology_factors-Tuple{Any}" href="#ArgoData.GriddedFields.monthly_climatology_factors-Tuple{Any}"><code>ArgoData.GriddedFields.monthly_climatology_factors</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">monthly_climatology_factors(date)</code></pre><p>If <code>date</code> is a DateTime, a vector of DateTime, or a date in <code>days since DateTime(0)</code> then compute the corresponding climatological months (1 to 12) and interpolation  factors (0.0 to 1.0) and return result as <code>fac0,fac1,rec0,rec1</code>.</p><p>For example :</p><pre><code class="nohighlight hljs">ff(x)=sin((x-0.5)/12*2pi)
(fac0,fac1,rec0,rec1)=monthly_climatology_factors(ArgoTools.DateTime(2011,1,10))

gg=fac0*ff(rec0)+fac1*ff(rec1)
(ff(rec0),gg,ff(rec1))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/tools.jl#LL579-L595">source</a></section></article><h2 id="Module:-MITprofAnalysis"><a class="docs-heading-anchor" href="#Module:-MITprofAnalysis">Module: MITprofAnalysis</a><a id="Module:-MITprofAnalysis-1"></a><a class="docs-heading-anchor-permalink" href="#Module:-MITprofAnalysis" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.add_climatology_factors!-Tuple{Any}" href="#ArgoData.MITprofAnalysis.add_climatology_factors!-Tuple{Any}"><code>ArgoData.MITprofAnalysis.add_climatology_factors!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_climatology_factors!(df)</code></pre><p>Add temporal interpolation factors (<code>rec0,rec1,fac0,fac1</code>) to DataFrame. </p><pre><code class="nohighlight hljs">df=CSV.read(&quot;csv/profile_positions.csv&quot;,DataFrame)
MITprofAnalysis.add_climatology_factors!(df)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL343-L352">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.add_coeffs!-Tuple{Any}" href="#ArgoData.MITprofAnalysis.add_coeffs!-Tuple{Any}"><code>ArgoData.MITprofAnalysis.add_coeffs!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_coeffs!(df)</code></pre><p>Read <code>profile_coeffs.jld2</code> and add to <code>df</code>.    </p><pre><code class="nohighlight hljs">df=MITprofAnalysis.read_pos_level(5)
MITprofAnalysis.add_coeffs!(df)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL268-L277">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.add_level!-Tuple{Any, Any}" href="#ArgoData.MITprofAnalysis.add_level!-Tuple{Any, Any}"><code>ArgoData.MITprofAnalysis.add_level!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_level!(df,k)</code></pre><p>Read from e.g. <code>csv_levels/k1.csv</code> and add variables to <code>df</code>.    </p><pre><code class="nohighlight hljs">df=CSV.read(&quot;csv/profile_positions.csv&quot;,DataFrame)
MITprofAnalysis.add_level!(df,5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL282-L291">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.add_tile!-Tuple{Any, Any, Any}" href="#ArgoData.MITprofAnalysis.add_tile!-Tuple{Any, Any, Any}"><code>ArgoData.MITprofAnalysis.add_tile!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_tile!(df,Γ,n)</code></pre><p>Add tile index (see <code>MeshArrays.Tiles</code>) to <code>df</code> that can then be used with e.g. <code>groupby</code>.</p><pre><code class="nohighlight hljs">input_file=joinpath(&quot;MITprof_input&quot;,&quot;profile_positions.csv&quot;)
df=CSV.read(input_file,DataFrame)
G=GriddedFields.load()
MITprofAnalysis.add_tile!(df,G.Γ,30)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL357-L368">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.cost_functions" href="#ArgoData.MITprofAnalysis.cost_functions"><code>ArgoData.MITprofAnalysis.cost_functions</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">cost_functions(vv=&quot;prof_T&quot;,JJ=[])</code></pre><p>Loop through files and compute nb profiles, nb non-blank profiles, nb levels mean, cost mean.</p><pre><code class="nohighlight hljs">pth=&quot;MITprof/&quot;
nt,np,nz,cost=MITprofAnalysis.cost_functions(pth,&quot;prof_S&quot;)

using JLD2
jldsave(joinpath(&quot;csv&quot;,&quot;prof_S_stats.jld2&quot;); nt,np,nz,cost)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL16-L28">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.csv_of_levels" href="#ArgoData.MITprofAnalysis.csv_of_levels"><code>ArgoData.MITprofAnalysis.csv_of_levels</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">csv_of_levels()</code></pre><p>Create Array of all values for one level, obtained by looping through files in <code>csv/</code>. </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL211-L215">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.csv_of_positions" href="#ArgoData.MITprofAnalysis.csv_of_positions"><code>ArgoData.MITprofAnalysis.csv_of_positions</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">csv_of_positions(path)</code></pre><p>Create table (<code>DataFrame</code>) of the positions and dates obtained by looping through files in <code>path</code>.  Additional information such as float <code>ID</code>, position on the ECCO grid <code>pos</code>, number of  valid data points for T and S (<code>nbT</code> ,<code>nbS</code>).</p><pre><code class="nohighlight hljs">using ArgoData
using MeshArrays
Γ=GridLoad(ID=:LLC90)
path=MITprof.default_path
df=MITprofAnalysis.csv_of_positions(path,Γ)
csv_file=joinpath(default_path,&quot;profile_positions.csv&quot;)
CSV.write(csv_file, df)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL70-L86">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.csv_of_variables-Tuple{String}" href="#ArgoData.MITprofAnalysis.csv_of_variables-Tuple{String}"><code>ArgoData.MITprofAnalysis.csv_of_variables</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">csv_of_variables(name::String)</code></pre><p>Create Array of all values for one variable, obtained by looping through files in <code>path</code>. </p><pre><code class="nohighlight hljs">@everywhere using ArgoData, CSV, DataFrames
@everywhere list_v=(&quot;prof_T&quot;,&quot;prof_Testim&quot;,&quot;prof_Tweight&quot;,&quot;prof_S&quot;,&quot;prof_Sestim&quot;,&quot;prof_Sweight&quot;)
@distributed for v in list_v
    tmp=MITprofAnalysis.csv_of_variables(v)
    CSV.write(output_file,DataFrame(tmp,:auto))
end</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL136-L149">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.parse_pos-Tuple{Any}" href="#ArgoData.MITprofAnalysis.parse_pos-Tuple{Any}"><code>ArgoData.MITprofAnalysis.parse_pos</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">parse_pos(p)</code></pre><p>Parse <code>String</code> vector <code>p</code> into a vector of <code>CartesianIndex</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL378-L382">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.prepare_interpolation-Tuple{Any, Any, Any}" href="#ArgoData.MITprofAnalysis.prepare_interpolation-Tuple{Any, Any, Any}"><code>ArgoData.MITprofAnalysis.prepare_interpolation</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">prepare_interpolation(Γ,lon,lat)</code></pre><p>Alias for <code>InterpolationFactors(Γ,lon,lat)</code>. </p><p>The loop below creates interpolation coefficients for all data points. </p><p>The results are stored in a file called <code>csv/profile_coeffs.jld2</code> at the end.</p><pre><code class="nohighlight hljs">using SharedArrays, Distributed

@everywhere begin
    using ArgoData
    G=GriddedFields.load()
    df=MITprofAnalysis.read_pos_level(5)

    np=size(df,1)
    n0=10000
    nq=Int(ceil(np/n0))
end

(f,i,j,w)=( SharedArray{Int64}(np,4), SharedArray{Int64}(np,4),
            SharedArray{Int64}(np,4), SharedArray{Float64}(np,4) )

@sync @distributed for m in 1:nq
    ii=n0*(m-1) .+collect(1:n0)
    ii[end]&gt;np ? ii=n0*(m-1) .+collect(1:n0+np-ii[end]) : nothing
    tmp=MITprofAnalysis.prepare_interpolation(G.Γ,df.lon[ii],df.lat[ii])
    f[ii,:].=tmp[1]
    i[ii,:].=tmp[2]
    j[ii,:].=tmp[3]
    w[ii,:].=tmp[4]
end

fil=joinpath(&quot;csv&quot;,&quot;profile_coeffs.jld2&quot;)
co=[(f=f[ii,:],i=i[ii,:],j=j[ii,:],w=w[ii,:]) for ii in 1:np]
save_object(fil,co)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL169-L208">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.read_pos_level" href="#ArgoData.MITprofAnalysis.read_pos_level"><code>ArgoData.MITprofAnalysis.read_pos_level</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">read_pos_level(k=1; input_path=&quot;&quot;)</code></pre><p>Read in from <code>csv/profile_positions.csv</code> and e.g. <code>csv_levels/k1.csv</code>, parse <code>pos</code>, then <code>add_level!(df,k)</code>, and return a DataFrame.</p><pre><code class="nohighlight hljs">df=MITprofAnalysis.read_pos_level(5)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL251-L260">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.subset-Tuple{DataFrames.DataFrame}" href="#ArgoData.MITprofAnalysis.subset-Tuple{DataFrames.DataFrame}"><code>ArgoData.MITprofAnalysis.subset</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">subset(df;lons=(-180.0,180.0),lats=(-90.0,90.0),dates=())</code></pre><p>Subset of df that&#39;s within specified date and position ranges.    </p><pre><code class="nohighlight hljs">df=CSV.read(&quot;csv/profile_positions.csv&quot;,DataFrame)
d0=DateTime(&quot;2012-06-11T18:50:04&quot;)
d1=DateTime(&quot;2012-07-11T18:50:04&quot;)
df1=MITprofAnalysis.subset(df,dates=(d0,d1))
df2=MITprofAnalysis.subset(df,lons=(0,10),lats=(-5,5),dates=(d0,d1))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL388-L400">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofAnalysis.trim-Tuple{Any}" href="#ArgoData.MITprofAnalysis.trim-Tuple{Any}"><code>ArgoData.MITprofAnalysis.trim</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">trim(df)</code></pre><p>Filter out data points that lack T, Te, etc.</p><pre><code class="nohighlight hljs">df=CSV.read(&quot;csv/profile_positions.csv&quot;,DataFrame)
MITprofAnalysis.add_level!(df,1)
df1=MITprofAnalysis.trim(df)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL418-L428">source</a></section></article><h2 id="Module:-MITprofStat"><a class="docs-heading-anchor" href="#Module:-MITprofStat">Module: MITprofStat</a><a id="Module:-MITprofStat-1"></a><a class="docs-heading-anchor-permalink" href="#Module:-MITprofStat" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofStat.list_stat_configurations-Tuple{}" href="#ArgoData.MITprofStat.list_stat_configurations-Tuple{}"><code>ArgoData.MITprofStat.list_stat_configurations</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">list_stat_configurations()</code></pre><p>List of confiburations (each one a choice of nmon,npoint,nobs) to be used in <code>stat_combine</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL753-L757">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofStat.stat_df-Tuple{DataFrames.DataFrame, Symbol, Symbol}" href="#ArgoData.MITprofStat.stat_df-Tuple{DataFrames.DataFrame, Symbol, Symbol}"><code>ArgoData.MITprofStat.stat_df</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stat_df(df::DataFrame,by::Symbol,va::Symbol)</code></pre><p>Compute statistics (mean, median, variance) of variable <code>va</code> from DataFrame <code>df</code> grouped by <code>by</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL453-L457">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofStat.stat_driver-Tuple{}" href="#ArgoData.MITprofStat.stat_driver-Tuple{}"><code>ArgoData.MITprofStat.stat_driver</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stat_driver(;varia=:Td,level=1,years=2004:2022,output_to_file=false,
nmon=1, npoint=1, sta=:none, nobs=1, input_path=&quot;&quot;, output_path=&quot;&quot;)</code></pre><pre><code class="nohighlight hljs">P=( variable=:Td, level=10, years=2002:2002, 
    statistic=:mean, npoint=3, nmon=3, 
    output_path=MITprof.default_path,
    output_to_file=true
    )

MITprofStat.stat_driver(; varia=P.variable,
        level=P.level,years=P.years,
        nmon=P.nmon, npoint=P.npoint, sta=P.statistic, 
        output_path=P.output_path, output_to_file=P.output_to_file)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL620-L636">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofStat.stat_grid!-Tuple{Array, DataFrames.DataFrame, Symbol, Symbol}" href="#ArgoData.MITprofStat.stat_grid!-Tuple{Array, DataFrames.DataFrame, Symbol, Symbol}"><code>ArgoData.MITprofStat.stat_grid!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stat_grid!(ar::Array,df::DataFrame,va::Symbol,sta::Symbol; func=(x-&gt;x))</code></pre><p>Compute map <code>ar</code> of statistic <code>sta</code> of variable <code>va</code> from DataFrame <code>df</code>. This  assumes that <code>df.pos</code> are indices into Array <code>ar</code> and should be used to groupby <code>df</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL468-L473">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofStat.stat_monthly!-Tuple{Array, DataFrames.DataFrame, Symbol, Symbol, Any, NamedTuple}" href="#ArgoData.MITprofStat.stat_monthly!-Tuple{Array, DataFrames.DataFrame, Symbol, Symbol, Any, NamedTuple}"><code>ArgoData.MITprofStat.stat_monthly!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stat_monthly!(arr:Array,df::DataFrame,va::Symbol,sta::Symbol,years,G::NamedTuple;
                func=(x-&gt;x), nmon=1, npoint=1, nobs=1)</code></pre><p>Compute maps of statistic <code>sta</code> for variable <code>va</code> from DataFrame <code>df</code> for years <code>years</code>.  This assumes that <code>df.pos</code> are indices into Array <code>ar</code> and should be used to groupby <code>df</code>.  For each year in <code>years</code>, twelve fields are computed – one per month.</p><pre><code class="nohighlight hljs">using ArgoData
G=GriddedFields.load()
df1=MITprofAnalysis.trim( MITprofAnalysis.read_pos_level(1, input_path=&quot;MITprof_input&quot;) )

years=2004:2007
arr=G.array(12,length(years))
MITprofStat.stat_monthly!(arr,df1,:Td,:median,years,G,nmon=3);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL543-L560">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofStat.stat_monthly!-Tuple{Array, DataFrames.DataFrame, Symbol, Symbol, Int64, Int64, NamedTuple}" href="#ArgoData.MITprofStat.stat_monthly!-Tuple{Array, DataFrames.DataFrame, Symbol, Symbol, Int64, Int64, NamedTuple}"><code>ArgoData.MITprofStat.stat_monthly!</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stat_monthly!(ar::Array,df::DataFrame,va::Symbol,sta::Symbol,y::Int,m::Int,G::NamedTuple;
                func=(x-&gt;x), nmon=1, npoint=1, nobs=1)</code></pre><p>Compute map <code>ar</code> of statistic <code>sta</code> for variable <code>va</code> from DataFrame <code>df</code> for year <code>y</code> and month <code>m</code>. This assumes that <code>df.pos</code> are indices into Array <code>ar</code> and should be used to groupby <code>df</code>.</p><pre><code class="nohighlight hljs">using ArgoData
G=GriddedFields.load();

P=( variable=:Td, level=10, year=2002, month=1, input_path=MITprof.default_path,
    statistic=:median, npoint=9, nmon=3, rng=(-1.0,1.0))

df1=MITprofAnalysis.trim( MITprofAnalysis.read_pos_level(P.level,input_path=P.input_path) )

GriddedFields.update_tile!(G,P.npoint);
ar1=G.array();
MITprofStat.stat_monthly!(ar1,df1,
    P.variable,P.statistic,P.year,P.month,G,nmon=P.nmon,npoint=P.npoint);

MITprofPlots.stat_map(ar1,G,rng=P.rng)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL480-L503">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="ArgoData.MITprofStat.stat_write-Tuple{Any, Any, Any}" href="#ArgoData.MITprofStat.stat_write-Tuple{Any, Any, Any}"><code>ArgoData.MITprofStat.stat_write</code></a> — <span class="docstring-category">Method</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">stat_write(file,arr,varia)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/euroargodev/ArgoData.jl/blob/fbd3d0c4e265fcd0fb9b8579886da45891ee5f43/src/MITprofAnalysis.jl#LL580-L582">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../examples/">« Examples</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.7.0 on <span class="colophon-date" title="Monday 7 October 2024 09:53">Monday 7 October 2024</span>. Using Julia version 1.10.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
